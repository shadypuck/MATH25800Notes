\documentclass[../notes.tex]{subfiles}

\pagestyle{main}
\renewcommand{\chaptermark}[1]{\markboth{\chaptername\ \thechapter\ (#1)}{}}
\setcounter{chapter}{6}

\begin{document}




\chapter{???}
\section{Zorn's Lemma and Intro to Modules Over PIDs}
\begin{itemize}
    \item \marginnote{2/13:}Picking up from last time with Zorn's lemma.
    \item \textbf{Partially ordered set}: A set together with a binary relation indicating that, for certain pairs of elements in the set, one of the elements precedes the other in the ordering. \emph{Also known as} \textbf{poset}. \emph{Denoted by} $\bm{P}$.
    \begin{itemize}
        \item The domain of the \textbf{partial order} may be a proper subset of $P\times P$.
    \end{itemize}
    \item \textbf{Partial order}: The binary relation on a poset.
    \item \textbf{Maximal} ($f\in P$): An element $f\in P$ such that for all $q\in P$, the statement $q>f$ is false.
    \item Example.
    \begin{itemize}
        \item Let $X$ be a set with $|X|\geq 2$\footnote{Nori denotes cardinality by $\#X$.}.
        \item Define a poset $P=\{A\subsetneq X\}$ with corresponding partial order defined by taking subsets. In particular, if $A\subset B$, write $A\leq B$.
        \item For any $x\in X$, $X-\{x\}$ is a maximal element of $P$.
    \end{itemize}
    \item \textbf{Chain}: A subset of a poset $P$ such that if $c_1,c_2$ are in said subset, then implies $c_1\leq c_2$ or $c_2\leq c_1$. \emph{Denoted by} $\bm{C}$.
    \begin{itemize}
        \item In other words, a chain is a subset of a poset that is a \textbf{totally ordered set}.
    \end{itemize}
    \item \textbf{Totally ordered set}: A set together with a binary relation indicating that, for any pair of elements in the set, one of the elements precedes the other in the ordering.
    \item Observation: If $F$ is a subset of a nonempty finite chain $C$, then there exists $c\in F$ such that $c\geq q$ for all $q\in F$.
    \item \textbf{Upper bound} (of $C$): An element $p\in P$ such that $p\geq c$ for all $c\in C$.
    \item \textbf{Zorn's lemma}: Let $P$ be a poset that satisfies
    \begin{enumerate}[label={(\roman*)}]
        \item $P\neq\emptyset$;
        \item Every chain $C\subset P$ has an upper bound.
    \end{enumerate}
    Then $P$ has a maximal element.
    \item We will not prove Zorn's lemma. It rarely if ever gets proven in an undergraduate course, maybe in a logic course.
    \begin{itemize}
        \item And by "prove" we mean "deduce Zorn's lemma from the Axiom of Choice."
    \end{itemize}
    \item We now investigate a situation in which Zorn's lemma gets applied.
    \item Let $M$ be a finitely generated $A$-module.
    \begin{itemize}
        \item Let $v_1,\dots,v_r\in M$ be elements such that such that $M=Av_1+\cdots+Av_r$.
        \item Before we prove the proposition that requires Zorn's lemma, we will need one more definition: that of a \textbf{maximal submodule}.
    \end{itemize}
    \item \textbf{Maximal submodule} (of $M$): A submodule of $M$ that is a maximal element of the poset
    \begin{equation*}
        P = \{N\subsetneq M:N\text{ is an }A\text{-submodule}\}
    \end{equation*}
    \item Proposition: Every nonzero finitely generated $A$-module $M$ has a maximal submodule.
    \begin{proof}
        % Apply Zorn's lemma: First, check that $P$ is nonempty. $M\neq\{0\}$ (by hypothesis) implies that $\{0\}\in P$ implies that $P$ is nonempty. Now let $C\subset P$ be a chain. Let $\mathcal{N}=\bigcup\{N:N\in C\}$. We will check that $\mathcal{N}$ is a submodule and that it's in $P$. It's a submodule since: Let $n_1,n_2\in\mathcal{N}$. Then $n_i\in N_i$ for $i=1,2$ and $N_1,N_2\in C$. WLOG, assume that $N_1\subset N_2$. Then $n_1,n_2\in N_2$. It follows that $a_1n_1+a_2n_2\in N_2\subset\mathcal{N}$ for all $a_1,a_2\in A$. This completes the proof that $\mathcal{N}$ is a submodule of $M$.\par
        % Now we address if it's possible that $\mathcal{N}\in P$. Suppose for the sake of contradiction that $\mathcal{N}=M$. We have $v_1,\dots,v_r\in M$ such that $M=Av_1+\cdots+Av_r$. Because $\mathcal{N}=M$, $v_i\in\mathcal{N}$ for all $i$. Thus, there exist $N_i\in C$ such that $v_i\in N_i$ for all $i=1,\dots,r$. So there exists $i\in\{1,\dots,r\}$ such that for all $j\in\{1,\dots,r\}$, $N_j\subset N_i$. Therefore, $v_j\in N_j\subset N_i$ for all $j=1,\dots,r$. But $N_i$ is a module, so $M=Av_1+\cdots+Av_r\subset N_i\subset M$. So $N_i=M$, which contradicts the assumption that $N_i$ is proper (because $N_i\in P$). Therefore, $\mathcal{N}\in P$.\par
        % We now apply Zorn's lemma to get the desired result.

        To prove that $M$ has a maximal submodule, it will suffice show that there exists a maximal element of the poset
        \begin{equation*}
            P = \{N\subsetneq M:N\text{ is an }A\text{-submodule}\}
        \end{equation*}
        To do this, Zorn's lemma tells us that it will suffice to confirm that $P\neq\emptyset$ and that every chain $C\subset P$ has an upper bound. Let's begin.\par
        We first confirm that $P\neq\emptyset$. By hypothesis, $M$ is nonzero. Thus, the zero $A$-submodule is a proper subset of $M$, so $0\in P$ and hence $P$ is nonempty.\par
        We now confirm that every chain $C\subset P$ has an upper bound. Let $C\subset P$ be an arbitrary chain. Define
        \begin{equation*}
            \mathcal{N}_C = \bigcup\{N:N\in C\}
        \end{equation*}
        We will first verify that $\mathcal{N}_C\in P$, and then we will show that $\mathcal{N}_C$ is an upper bound of $C$. Let's begin. To verify that $\mathcal{N}_C\in P$, it will suffice to demonstrate that $\mathcal{N}_C$ is an $A$-submodule of $M$ and that $\mathcal{N}_C\subsetneq M$.\par
        To demonstrate that $\mathcal{N}_C$ is an $A$-submodule, Proposition \ref{prp:10.1} tells us that it will suffice to show that $\mathcal{N}_C\neq\emptyset$ and $n_1+an_2\in\mathcal{N}_C$ for all $a\in A$ and $n_1,n_2\in\mathcal{N}_C$. Since $P$ is nonempty, $\mathcal{N}_C$ is nonempty by definition, as desired. Additionally, let $n_1,n_2\in\mathcal{N}_C$ be arbitrary. It follows by the definition of $\mathcal{N}_C$ that there exist $N_1,N_2\in C$ such that $n_i\in N_i$ ($i=1,2$). WLOG, assume $N_1\subset N_2$. Then $n_1,n_2\in N_2$. It follows since $N_2$ is an $A$-submodule that $n_1+an_2\in N_2\subset\mathcal{N}_C$ for all $a\in A$, as desired.\par
        We know that $\mathcal{N}_C\subset M$. Thus, if $\mathcal{N}_C\not\subsetneq M$, then we must have $\mathcal{N}_C=M$. Suppose for the sake of contradiction that $\mathcal{N}_C=M$. Recall that $M=Av_1+\cdots+Av_r$. Since the $v_i$ are elements of $M$ and $\mathcal{N}_C=M$, it follows that $v_i\in\mathcal{N}_C$ ($i=1,\dots,r$). Thus, as before, there must exist $N_1,\dots,N_r\in C$, not necessarily distinct, such that $v_i\in N_i$ ($i=1,\dots,r$). It follows by the observation from earlier that there is an $i\in[r]$ such that for all $j\in[r]$, $N_j\subset N_i$. Consequently, $v_j\in N_j\subset N_i$ ($j=1,\dots,r$). But $N_i$ is an $A$-submodule, so $M=Av_1+\cdots+Av_r\subset N_i\subset M$. But this means that $N_i=M$, contradicting the assumption that $N_i\subsetneq P$ (since $N_i\in P$). Therefore, $\mathcal{N}_C\subsetneq M$, as desired.\par
        It follows that $\mathcal{N}_C\in P$, as desired. Lastly, we have by its definition that $N\subset\mathcal{N}_C$ for all $N\in C$, meaning that $\mathcal{N}_C$ is an upper bound of $C$ by definition. Therefore, by Zorn's lemma, $P$ has a maximal element, and hence $M$ has a maximal submodule, as desired.
    \end{proof}
    \item Corollary: Every nonzero commutative ring $R$ has a maximal ideal.
    \begin{proof}
        % $A$ can be considered a module over itself.\par
        % In particular, take $M=A$, $A\neq 0$, and let it be generated by 1.

        Consider $R$ as an $R$-module. Then $R=(1)$ is finitely generated. This combined with the fact that it is nonzero by hypothesis allows us to invoke the above proposition, learning that $R$ has a maximal submodule $N$. But by the observation from Lecture 6.1, $N$ is a left ideal, which is equivalent to a two-sided ideal in a commutative ring. Maximality transfers over as well (as we can confirm), proving that $N$ is the desired maximal ideal of $R$.
    \end{proof}
    \item Remark: Suppose that $J$ is a two-sided ideal of $A$. Let $M$ be an $A$-module such that for all $a\in J$ and $m\in M$, we have $am=0$. Then $M$ may be regarded as an $(A/J)$-module in a natural manner.
    \begin{itemize}
        \item In particular, we may take $\rho:A\to\End(M,+)$ to be a ring homomorphism.
        \item We can factor $\rho=\bar{\rho}\circ\pi$, where $\pi:A\to A/J$ and $\bar{\rho}:A/J\to\End(M,+)$. It follows that $\bar{\rho}$ is a ring homomorphism. Therefore, $M$ is an $A/J$-module.
        \item This remark will be used!
        \item Review annihilators from Section 10.1!
    \end{itemize}
    \item Remark: Given a left ideal $I\subset A$ and an $A$-module $M$, we get a whole lot of modules because each element of $M$ generates one. In particular, we note that $Im\subset Am\subset M$, where both $Im,Am$ are submodules for all $m\in M$.
    \item \textbf{Product} (of modules): The $A$-submodule of $M$ defined as follows. \emph{Denoted by} $\bm{IM}$. \emph{Given by}
    \begin{equation*}
        IM = \sum_{m\in M}Im
    \end{equation*}
    \item It follows that $M/IM$ is an $A$-module, but also one with a special property: $a(M/IM)=0$ for all $a\in I$.
    \begin{itemize}
        \item If $A$ is commutative, then $M/IM$ is an $A/I$-module.
    \end{itemize}
    \item Proposition: Let $R$ be a nonzero commutative ring. If $R^m\cong R^n$ as $R$-modules, then $m=n$.
    \begin{proof}
        Let $I\subset R$ be a maximal ideal. (We know that one exists by the above corollary.) If $f:R^m\to R^n$ is an isomorphism of $R$-modules, then $f$ restricts to $I(R^m)\to I(R^n)$. This gives rise to the isomorphism $\bar{f}:R^m/I(R^m)\to R^n/I(R^n)$ of $R$-modules, in fact of $R/I$ modules. It follows that $R/I$ is a field, so $m=n$.
    \end{proof}
    \item Classifying modules up to isomorphism under commutative rings.
    \begin{itemize}
        \item This is a hard problem, and there are still many open problems in this field today.
        \item We will not go into this, though.
    \end{itemize}
    \item We now move on to modules over PIDs.
    \begin{itemize}
        \item Nori will go \emph{much} slower than the book.
        \item Do you have any recommended resources??
        \item Do we need to read and understand Chapters 10-11 to start on Chapter 12??
    \end{itemize}
    \item Objective: Let $R$ be a PID. Classify all finitely generated $R$-modules up to isomorphism.
    \begin{itemize}
        \item Our first result in this field was that submodules of $R^n$ are equal to $R^m$ for $m\leq n$.
        \item Where this is applicable: $\Z$ and $F[X]$.
        \begin{itemize}
            \item Go back and check out $\Z$-modules and $F[X]$-modules in Section 10.1!
        \end{itemize}
    \end{itemize}
    \item \textbf{Torsion module}: An $R$-module $M$ such that for all $m\in M$, there exists $0\neq a\in R$ such that $am=0$.
    \item \textbf{Torsion-free module}: An $R$-module $M$ such that for all nonzero $m\in M$ and for all nonzero $a\in R$, we have $am\neq 0$.
    \item Theorem: If $M$ is a finitely generated torsion-free $R$-module, then $M\cong R^n$ for some $n$.
    \begin{itemize}
        \item With a little work, we could prove this. But Nori will postpone it.
    \end{itemize}
    \item \textbf{$\bm{p}$-primary} (module): An $R$-module $M$ such that for all $m\in M$, there exists $k\geq 0$ for which $p^km=0$, where $p$ is prime in $R$.
    \item We want to classify these up to isomorphism.
    \begin{itemize}
        \item Nori can state these today, but will not have time to prove it until another day.
        \item Something that gets annihilated by $p$ is a $\Z/(p)$-module. The moment you go from $k=1$ to $k=2$, things get interesting.
    \end{itemize}
    \item Examples: $R/(p^{n_1})\oplus\cdots\oplus R/(p^{n_k})$, where $n_1\geq\cdots\geq n_k\geq 1$.
    \begin{itemize}
        \item Note that $k=0$ is allowed.
    \end{itemize}
    \item Uniqueness will take some time, but existence can be given as an exercise now.
    \item $M/pM$ is an $R/(p)$-vector space. $pM/p^2M$ is an $R/(p)$-vector space as well. So is $p^kM/p^{k+1}M$.
    \begin{itemize}
        \item Use $d_0,d_1,\dots,d_k$ to denote the dimensions of the vector spaces.
        \item $d_0,\dots,d_k$ is a decreasing sequence of nonnegative integers.
    \end{itemize}
\end{itemize}



\section{Office Hours (Nori)}
\begin{itemize}
    \item Homework questions.
    \begin{itemize}
        \item See pictures + unnumbered lemma.
        \item Example of the kernel being bigger than $(f)$.
        \item A ring homomorphism $\Z[X]\to\R$ must be evaluation by the universal property of polynomial rings.
        \item Factoring enables a constraint on $a$.
    \end{itemize}
    \item Lecture 6.1: Proposition proof?
    \item Lecture 6.1: $(2)\subsetneq\Z$ example?
    \item Lecture 6.1: The end of the theorem proof.
    \item Lecture 6.2: Does the first theorem you proved not appear in the book until Chapter 12?
    \item Lecture 6.2: What is $A$ in the proof?
    \item Resources for the proofs in Week 6?
    \item Lecture 7.1: Quotient stuff.
    \item Recommended resources for modules over PIDs? Chapter 12?
    \begin{itemize}
        \item We should be able to read chapter 12, since chapter 11 is just vector spaces.
        \item Nori's doing Chapter 12 in the classical manner (pre-1970). \textcite{bib:DummitFoote} just does it in the first few pages as the \textbf{elementary divisor theorem}.
    \end{itemize}
    \item HW6: So you want us to solve 1, 10, 13 for our own edification, but we don't need to write up a solution? Will we ever be responsible for the content therein?
    \begin{itemize}
        \item We'll need to understand them to move forward.
        \item Q6.4-Q6.5 are particularly important (good for number theory).
    \end{itemize}
\end{itemize}



\section{Office Hours (Ray)}
\begin{itemize}
    \item Universal properties save you from having to do pages upon pages of ring homomorphism checks (think Q3.10).
    \item Algebra: Chapter 0 by Paolo Aluffi for learning quotienting by polynomials.
    \begin{itemize}
        \item Universal properties show up on page 30.
        \item Read stuff before as needed.
        \item Has a chapter called universal properties of polynomial rings. Universal properties of quotients, too.
    \end{itemize}
    \item Direct sums and direct products.
    \begin{itemize}
        \item Let $M,N$ be $R$-modules. Then $M\times N$ is an $R$-module defined by the Cartesian product of the sets and with \textbf{diagonal} module action $r(m,n)=(rm,rn)$ (diagonal meaning we just act on two elements).
        \item $M\oplus N=M\times N$.
        \item For infinite sets, we get a difference. Indeed, $\prod_{i=1}^\infty M_i\neq\bigoplus_{i=1}^\infty M_i$.
    \end{itemize}
\end{itemize}



\section{Classifying Modules Over PIDs}
\begin{itemize}
    \item \marginnote{2/15:}We pick up from yesterday, classifying finitely generated $R$-modules $M$ up to isomorphism when $R$ is a PID.
    \item In particular, we begin with a further investigation of the properties of torsion modules.
    \item \textbf{Lift} (of $x\in M/M'$): The choice of an element $y\in M$ such that $\pi(y)=x$.
    \item Lemma:
    \begin{enumerate}[label={(\roman*)}]
        \item $\Tor(M)$ is an $R$-submodule of $M$.
        \begin{proof}
            To prove that $\Tor(M)$ is an $R$-submodule of $M$, Proposition \ref{prp:10.1} tells us that it will suffice to show that $\Tor(M)\neq\emptyset$ and that $x+ry\in\Tor(M)$ for all $r\in R$, $x,y\in\Tor(M)$. Consider $0\in M$. By definition, $r\cdot 0=0$. Thus, $0\in\Tor(M)$ as desired. Additionally, let $r\in R$ and $x,y\in\Tor(M)$ be arbitrary. Since $x,y\in\Tor(M)$, there exist nonzero $a,b\in R$ such that $ax=0$ and $by=0$. Because $R$ is an integral domain (as a PID), $a,b$ nonzero implies that $ab\neq 0$. Thus, since
            \begin{equation*}
                ab(x+ry) = abx+abry
                = b(ax)+ar(by)
                = b(0)+ar(0)
                = 0
            \end{equation*}
            we have that $x+ry\in\Tor(M)$, as desired.
        \end{proof}
        \item The quotient module $M/\Tor(M)$ is torsion-free.
        \begin{proof}
            To prove that $M/\Tor(M)$ is torsion-free, it will suffice to show that every torsion element of $M/\Tor(M)$ is 0. Let's begin. Let $v\in M/\Tor(M)$ be an arbitrary torsion element. Then there exists $a\in R$ nonzero such that $av=0$. Now lift $v\in M/\Tor(M)$ to $w\in M$. The constraint $av=0=0+\Tor(M)$ from the quotient module implies that $0=a\pi(w)=\pi(aw)$, hence $aw\in\Tor(M)$. Thus, there exists $b\in R$ nonzero such that $b(aw)=0$. It follows that $(ba)w=0$, where $ba\neq 0$ since $a,b\neq 0$ by the fact that $R$ is an integral domain. Thus, $w\in\Tor(M)$, and hence $v=\pi(w)=0$, as desired.
        \end{proof}
    \end{enumerate}
    \item We now give some claims that will be useful later today, but whose proofs we will delay until next lecture.
    \item The first one pertains to the properties of finitely generated torsion-free modules over an integral domain.
    \item Lemma: Let $R$ be an integral domain, and let $M$ be a finitely generated $R$-module. Then there exists a submodule $M'\subset M$ such that\dots
    \begin{enumerate}[label={(\roman*)}]
        \item $M'\cong R^h$ for some $h\geq 0$;
        \item There exists a nonzero $a\in R$ such that $aM\subset M'$ (equivalently, $a(M/M')=0$).
    \end{enumerate}
    \item The next two pertain to the properties of finitely generated modules over a PID.
    \item Corollary: Every finitely generated torsion-free module $M$ over a PID $R$ is isomorphic to $R^h$ for some $h\in\Zg$.
    \item Theorem: Let $M$ be a finitely generated $R$-module, where $R$ is a PID. Then\dots
    \begin{enumerate}[label={(\roman*)}]
        \item $\Tor(M)\oplus R^h\cong M$ for some $h\geq 0$;
        \item $\Tor(M)$ is finitely generated.
    \end{enumerate}
    \item \textbf{Rank} (of a module): The number $h$ pertaining to an $R$-module $M$, where $M/\Tor(M)\cong R^h$. \emph{Denoted by} $\bm{\rank(M)}$.
    \begin{itemize}
        \item It follows by the proposition from last lecture (Lecture 7.1) that rank is well-defined.
    \end{itemize}
    \item Corollary: Finitely generated $R$-modules $M_1$ and $M_2$ are isomorphic to each other iff
    \begin{enumerate}[label={(\roman*)}]
        \item $M_1$ and $M_2$ have the same rank;
        \item $\Tor(M_1)$ is isomorphic to $\Tor(M_2)$.
    \end{enumerate}
    \begin{proof}
        Suppose first that $\phi:M_1\to M_2$ is an isomorphism. Then naturally they will have the same ranks and torsion submodules.\par
        On the other hand, if $\rank(M_1)=\rank(M_2)$, then $M_1/\Tor(M_1)\cong M_2/\Tor(M_2)$. This combined with the hypothesis that $\Tor(M_1)\cong\Tor(M_2)$ implies that
        \begin{align*}
            \Tor(M_1)\oplus M_1/\Tor(M_1) &\cong \Tor(M_2)\oplus M_2/\Tor(M_2)\\
            M_1 &\cong M_2
        \end{align*}
        where the second line follows from the preceding theorem.
    \end{proof}
    \item The classification of finitely generated $R$-modules ($R$ a PID) is completed by the following results.
    \item \textbf{$\bm{p}$-primary component} (of a module): The submodule of a module $M$ consisting of those $m\in M$ such that $p^km=0$ for some $k\in\Zg$. \emph{Denoted by} $\bm{M_{(p)}}$.
    \begin{itemize}
        \item Showing that $M_{(p)}$ is a submodule of $M$ can be accomplished with the submodule criterion (Proposition \ref{prp:10.1}), just like in the first lemma proven today.
    \end{itemize}
    \item Notation and observations.
    \begin{enumerate}
        \item Let $M_1,\dots,M_k$ be submodules of $M$. Then $T:\prod_{i=1}^kM_i\to M$ defined by
        \begin{equation*}
            T(m_1,\dots,m_k) = m_1+\cdots+m_k
        \end{equation*}
        is not injective in general.
        \begin{itemize}
            \item For example, if $k=2$, then $\ker(T)\cong M_1\cap M_2$ in general.
            \item Thus, some care is required in our selection of submodules if we want $\ker(T)=0$.
        \end{itemize}
        \item Obtaining a natural $R$-module homomorphism $T:\oplus_{i\in I}M_i\to M$ defined as above.
        \begin{itemize}
            \item We have that $\oplus_{i\in I}M_i\subset\prod_{i\in I}M_i$ in general. Here's why:
            \item Given a finite subset $F\subset I$, we may regard $\prod_{i\in F}M_i$ as a submodule of $\prod_{i\in I}M_i$ by taking the entries in the $i^\text{th}$ place to be zero for all $i\notin F$.
            \item The direct sum is simply the union of the submodules $\prod_{i\in F}M_i$ taken over all finite $F\subset I$.
            \item We define $T$ on the overall direct sum one submodule $\prod_{i\in F}M_i$ at a time.
        \end{itemize}
    \end{enumerate}
    \item Proposition: The natural $R$-module homomorphism $T:\oplus_{(p)}M_{(p)}\to\Tor(M)$ is an isomorphism, where the direct sum is indexed by the set of nonzero prime ideals of $R$.
    \begin{proof}
        Let $F$ be a set of $r$ distinct primes $p_1,\dots,p_r$ (i.e., the prime ideals $(p_1),\dots,(p_r)$ are pairwise distinct sets). Let $(m_1,\dots,m_r)\in\prod_{(p)\in F}M_{(p)}$. Then as per the notation and observations section above, $T$ is defined such that
        \begin{equation*}
            T(m_1,\dots,m_r) = m_1+\cdots+m_r
        \end{equation*}
        We first prove that $T$ is injective. Let $(m_1,\dots,m_r)\in\ker(T)$ be arbitrary. Then $T(m_1,\dots,m_r)=m_1+\cdots+m_r=0$. By hypothesis, there exist $k_1,\dots,k_r$ such that $p_i^{k_i}m_i=0$ ($i=1,\dots,r$). Define $a=p_2^{k_2}\cdots p_r^{k_r}$. It follows that $am_2=\cdots=am_r=0$. Thus,
        \begin{align*}
            a(0) &= 0\\
            a(m_1+\cdots+m_r) &= 0\\
            am_1+\cdots+am_r &= 0\\
            am_1 &= -(am_2+\cdots+am_r)\\
            &= -(0+\cdots+0)\\
            &= 0
        \end{align*}
        Additionally, $\gcd(a,p_1^{k_1})=1$ by definition, so $1\in(a,p_1^{k_1})$. It follows that there exist $b,c\in R$ such that $ba+cp_1^{k_1}=1$. This combined with the facts that $am_1=0$ and $p_1^{k_1}m_1=0$ implies that
        \begin{equation*}
            m_1 = 1\cdot m_1
            = (ba+cp_1^{k_1})m_1
            = b(am_1)+c(p_1^{k_1}m_1)
            = b(0)+c(0)
            = 0
        \end{equation*}
        A symmetric argument shows that all $m_i=0$, i.e., $(m_1,\dots,m_r)=(0,\dots,0)$. Therefore, $\ker(T)=0$, as desired.\par
        We now prove that $T$ is surjective. Let $m\in\Tor(M)$ be arbitrary. Consider the submodule $N=Am\subset M$. To prove that $m$ is the sum of elements, each from a $p$-primary component of $M$, it will suffice to prove that stronger condition that every element in $N$ is the sum of elements, each from a $p$-primary component of $M$. Equivalently, it will suffice to show that $N$ is the isomorphic to the sum of its $p$-primary components, since the $p$-primary components of $N$ are contained in those of $M$. Define $I=\{a\in R:am=0\}$. Notice that $I=\ker(l_a)$, where $l_a:R\to N$ is the left multiplication homomorphism. It follows by the FIT that there exists an isomorphism $\overline{l_a}:R/I\to N$. Thus, we need only show that $R/I$ is isomorphic to the direct sum of its $p$-primary components. But the \hyperref[trm:7.17]{Chinese Remainder Theorem} takes care of this for us since $I$ is a nonzero ideal.
    \end{proof}
    \item In view of the last proposition, our final task will be to classify finitely generated $p$-primary modules.
    \item We begin with some definitions.
    \item \textbf{$\bm{p}$-primary} (module): An $R$-module $M$ such that $M=M_{(p)}$ for some prime $p\in R$.
    \item \textbf{Annihilator} (of a module): The set of all $a\in R$ such that $am=0$ for all $m\in M$. \emph{Denoted by} $\bm{\Ann(M)}$. \emph{Given by}
    \begin{equation*}
        \Ann(M) = \{a\in R:am=0\ \forall\ m\in M\}
    \end{equation*}
    \item \textbf{Annihilator} (of an element): The set of all $a\in R$ such that $am=0$ pertaining to a specific $m\in M$. \emph{Denoted by} $\bm{\Ann(m)}$. \emph{Given by}
    \begin{equation*}
        \Ann(m) = \{a\in R:am=0\}
    \end{equation*}
    \item Consider $l_m:R\to M$ defined by $l_m(a)=am$.
    \begin{itemize}
        \item By the FIT, there exists a module isomorphism $\overline{l_m}:R/\Ann(m)\to Rm$.
        \item $\ker(l_m)=\Ann(m)$.
    \end{itemize}
    \item \textbf{Cyclic} (module): An $R$-module $M$ for which there exists $m\in M$ such that $M=Rm$.
    \begin{itemize}
        \item Cyclic modules are isomorphic to $R/\Ann(m)$ for a similar reason to the above ($Rm=M$ here).
    \end{itemize}
    \item With these definitions out of the way, we seek to show that every finitely generated $R$-module is the direct sum of cyclic modules.
    \item To prove this result, we will need the following lemma.
    \item Lemma: Let $M'=Re$ be a cyclic submodule of $M$. We assume that\dots
    \begin{enumerate}[label={(\roman*)}]
        \item $\Ann(e)=(p^n)$;
        \item $p^nM=0$.
    \end{enumerate}
    Then every $v\in M/M'$ has a lift $w\in M$ such that $\Ann(w)=\Ann(v)$.
    \begin{proof}
        Let $v\in M/M'$ be arbitrary. Since $p^nM=0$, $p^n(M/M')=0$ and hence $\Ann(v)=(p^k)$ for some $k\leq n$. Now let $w\in M$ be an arbitrary lift of $v$. We will prove that this $w$ satisfies all necessary constraints.\par
        To prove that $\Ann(w)\subset\Ann(v)$, let $a\in\Ann(w)$ be arbitrary. Then $aw=0$. It follows that $0=\pi(aw)=a\pi(w)=av$. Therefore, $a\in Ann(v)$ as well.\par
        To prove that $\Ann(v)\subset\Ann(w)$
    \end{proof}
    \item Proposition: For every finitely generated $p$-primary module $M$, there exist $e_1,\dots,e_s$ such that $M$ is the direct sum of the cyclic submodules $Re_i$.
    \begin{proof}
        Since $M$ is finitely generated, we know that $M=Rv_1+\cdots+Rv_r$. We induct on $r$.\par
        For the base case $r=1$, $M$ is cyclic by definition.\par
        Now suppose that we have proven the claim for some lower cases. Again with the $(p^n)$ issue.
    \end{proof}
\end{itemize}



\section{Rational Canonical Form and Proofs of Earlier Lemmas}
\begin{itemize}
    \item \marginnote{2/17:}Theorem: Every finitely generated $R$-module $M$ (where $R$ is a PID) is isomorphic to $\Tor(M)\oplus R^h$ for some $h\in\Zg$, where $h=\rank(M)$.
    \item Recall the following theorem.
    \item Theorem: Let $R$ be a PID. Then
    \begin{enumerate}[label={(\arabic*)}]
        \item Every finitely generated $p$-primary $R$-module is a finite direct sum of cyclic modules (which are isomorphic to $R/p^hR$ for some $h\in\N$).
        \item Every torsion module $M$ is the direct sum of its $p$-primary components.
    \end{enumerate}
    \item Corollary: Every finitely generated torsion $R$-module is isomorphic to the finite direct sum of cyclic $p$-primary modules where $p$ is an element of a finite set of primes.
    \emph{picture}
    \item $M$ finitely generated implies that $M_{(p)}$ is finitely generated.
    \item Said aloud that only finite primes $p$ satisfy $M_{(p)}\neq 0$.
    \item Theorem (Rational canonical form): Let $R$ be a PID. Then every finitely generated $R$-torsion module is isomorphic to
    \begin{equation*}
        R/(a_1)\oplus\cdots\oplus R/(a_\ell)
    \end{equation*}
    where $a_2\mid a_1$, $a_3\mid a_2$, \dots, $a_\ell\mid a_{\ell-1}$.
    \item Observe: The principal ideal $(a_1)$ is exactly the annihilator of $M$, i.e.,
    \begin{equation*}
        (a_1) = \{\alpha\in R:\alpha m=0\ \forall\ m\in M\}
    \end{equation*}
    \begin{itemize}
        \item Later, $(a_1)$ will play the role of a minimal polynomial, and the product will play the role of the characteristic polynomial.
    \end{itemize}
    \begin{proof}[Proof of theorem]
        Let $p_1,\dots,p_\ell$ be ?? the set of primes for which $M_{(p)}\neq 0$. Let
        \begin{equation*}
            M_{(p_i)} \cong R/(p_i^{m_i,1})\times R/(p_i^{m_i,2})\times\cdots
        \end{equation*}
        where $m_{i,1}\geq m_{i,2}\geq\cdots$. are such that there exists $N$ for which $m_{i,N}=0$. Then
        \begin{equation*}
            M/(p_j) \cong R/(p_j^{m_j,1})^\times\times R/(p_j^{m_j,2})^\times
        \end{equation*}
        Then we apply the Chinese Remainder Theorem. Define
        \begin{equation*}
            a_r = \prod_{i=1}^\ell p_i^{m_i,r}
        \end{equation*}
        where $a_{r+1}\mid a_r$ because $m_{i,j}$ is ?? in $j$. Use the CRT to imply that
        \begin{equation*}
            \prod_{i=1}^\ell R/(p_i^{m_i,r}) \cong R/(a_r)
        \end{equation*}
    \end{proof}
    \item That concludes torsion modules over PIDs; we now do torsion modules over fields, which should be easier.
    \item \textbf{$\bm{R}$-linearly independent} (elements of $M$): A set of elements $u_1,\dots,u_\ell\in M$ such that the constraints
    \begin{align*}
        (a_1,\dots,a_\ell) &\in R^\ell&
        \sum_{i=1}^\ell a_iu_i &= 0
    \end{align*}
    imply that $(a_1,\dots,a_\ell)=0$. Equivalently, $H:R^\ell\to M$ defined by
    \begin{equation*}
        H(a_1,\dots,a_\ell) = \sum_{i=1}^\ell a_iu_i
    \end{equation*}
    is 1-1, i.e., $R^\ell\cong H(M)$.
    \item Lemma: Let $R$ be an integral domain, and let $M$ be a finitely generated $R$-module. Then there exists a submodule $M'\subset M$ such that\dots
    \begin{enumerate}[label={(\roman*)}]
        \item $M'\cong R^h$ for some $h\geq 0$;
        \begin{proof}
            Let $S\subset M$ be a finite generating set. Select $T\subset S$ such that (i) $T$ is linearly independent and (ii) $T\subsetneq W\subset S$ implies that $W$ is \emph{not} linearly independent. In other words, we are picking $T$ to be a maximal linear independence set. Now suppose $|T|=h$ so that $T=\{u_1,\dots,u_h\}$. Then by definition,
            \begin{equation*}
                M' = \sum_{i=1}^hRu_i
                \cong R^h
            \end{equation*}
            where the latter isomorphism follows from Proposition \ref{prp:10.5}.
        \end{proof}
        \item There exists a nonzero $a\in R$ such that $aM\subset M'$ (equivalently, $a(M/M')=0$).
        \begin{proof}
            Pick $w\in S$ such that $w\notin T$. Then since we picked $T$ to be a \emph{maximal} linear independence set, $T\cup\{w\}$ is linearly \emph{dependent}. It follows that there exists a nonzero $(a_1,\dots,a_{h+1})\in R^{h+1}$ such that
            \begin{equation*}
                a_1u_1+\cdots+a_hu_h+a_{h+1}w = 0
            \end{equation*}
            If $a_{h+1}=0$, then $(a_1,\dots,a_h)\neq 0$ makes $a_1u_1+\cdots+a_hu_h=0$, contradicting the assumed linear independence of $T$. Thus, $a_{h+1}\neq 0$. It follows that
            \begin{equation*}
                a_{h+1}w = -\sum_{i=1}^ha_iu_i \in M'
            \end{equation*}
            We may repeat this process for any $w\in S-T$ to obtain a nonzero $a_w$ such that $a_ww\in M'$. Additionally, if $w\in T$, take $a_w=1$. Now define
            \begin{equation*}
                a = \prod_{w\in S}a_w
            \end{equation*}
            Since $R$ is an integral domain by hypothesis and each $a_w$ in the above product is nonzero, $a$ is nonzero. Moreover, by its construction, $aw\in M'$ for all $w\in S$. Therefore,
            \begin{equation*}
                aM = a\left( \sum_{s\in S}As \right)
                \subset M'
            \end{equation*}
            as desired.
        \end{proof}
    \end{enumerate}
    \item Note that you can make stronger statements than the above; you'll just have to use Zorn's lemma to do so.
    \item We now return to PID-land.
    \item Corollary: Every finitely generated torsion-free module $M$ over a PID $R$ is isomorphic to $R^h$ for some $h\in\Zg$.
    \begin{proof}
        % Let $0\neq a\in R$ and $M'\subset M$ as in the lemma. Consider $H:M\to M'$ given by $H(m)=am$. It is an $R$-module homomorphism (where $R$ is commutative) and $\ker H=0$ because $M$ is torsion-free (i.e., the only torsion element is 0). Therefore, $M\cong H(M)\subset M'\cong R^h$. Since $R$ is a PID, $H(M)\cong R^n$ for some $0\leq h\leq n$. It follows that some submodule of $R^h$ is isomorphic to $R^n$ by a theorem proven earlier in the course.

        Apply the lemma to obtain a submodule $M'$ of $M$ such that $M'\cong R^h$ and a nonzero $a\in R$ such that $aM\subset M'$. Consider $H:M\to M'$ defined by $H(m)=am$. Since $H$ is just left-multiplication, $H$ is an $R$-module homomorphism. Additionally, since $M$ is torsion free, $am=0$ iff $m=0$ so we have $\ker H=0$. Thus, since $H$ is injective, $M\cong H(M)\subset M'\cong R^h$. Furthermore, since $R$ is a PID, the submodule $H(M)$ of $R^h$ must be isomorphic to $R^n$ for some $0\leq n\leq h$ by the Theorem from Week 6. It follows by transitivity that $M\cong H(M)\cong R^n$, as desired.
    \end{proof}
    \item Takeaway: The torsion-free part is far easier to handle than the torsion part.
    \item Theorem: Let $M$ be a finitely generated $R$-module, where $R$ is a PID. Then\dots
    \begin{enumerate}[label={(\roman*)}]
        \item $\Tor(M)\oplus R^h\cong M$ for some $h\geq 0$;
        \begin{proof}
            % Claim (may have been proven last time): $M/\Tor(M)$ is torsion-free. We assume this and proceed.\par
            % We have $M/\Tor(M)\cong R^h=Re_1\oplus\cdots\oplus Re_h$. Lift $\varphi(e_i)$ to $\tilde{e}_i\in M$. Then $T:\Tor(M)\oplus R^h\to M$ defined by $T(m,(a_1,\dots,a_h))=m+\sum a_i\tilde{e}_i$ is an isomorphism.

            To prove that $\Tor(M)\oplus R^h\cong M$, the second theorem from Lecture 6.3 tells us that it will suffice to show that $M/\Tor(M)\cong R^h$ for some $h\geq 0$. By part (ii) of the lemma from last time (Lecture 7.2), we have that $M/\Tor(M)$ is torsion-free. This combined with the fact that $M/\Tor(M)$ is a finitely generated (since $M$ is finitely generated) module over a PID allows us to invoke the above corollary, yielding the desired result.\par
            Note that the isomorphism $T:\Tor(M)\oplus R^h\to M$ is given by
            \begin{equation*}
                T(m,(a_1,\dots,a_h)) = m+\sum a_ie_i
            \end{equation*}
            where $e_1,\dots,e_h$ generate $R^h$.
        \end{proof}
        \item $\Tor(M)$ is finitely generated.
        \begin{proof}
            % The projection is a surjection, which implies that $\Tor(M)$ is finitely generated.

            Since $M$ is finitely generated, part (i) implies that $\Tor(M)\oplus R^h$ is finitely generated. Now consider the projection $\pi:\Tor(M)\oplus R^h\to\Tor(M)$. Since it is a surjection, the (finite number of) images of the generators of $\Tor(M)\oplus R^h$ generate $\Tor(M)$.
        \end{proof}
    \end{enumerate}
    \item Nori reproves the claim that $M/\Tor(M)$ is torsion-free (see the first lemma from last lecture).
    % \begin{proof}
    %     Let $v\in M/\Tor(M)$ be a torsion element. Then there exists a nonzero $a\in R$ such that $av=0$. Thus, if $w\in M$ is a lift of $v$, then $aw\in\Tor(M)$. By the definition of $\Tor(M)$, there exists a nonzero $b\in R$ such that $b(aw)=0$. It follows that $w\in\Tor(M)$. But $w$ was supposed to be a lift of $v$, so $v=0$.
    % \end{proof}
    \item If $\pi:M\to M/M'$ and $S:M/M'\to R_h$ is an isomorphism, then there exists $\varphi:R^h\to M$ such that the diagram commutes, i.e., $S\pi\varphi=\id_{R^h}$.
    \item Next week is going to be straight linear algebra.
    \item Nori would try to do tensors in one week (the last week), but it'd be ridiculous to do something on Friday and put it on a test on Tuesday.
    \item Imaginary quadratic fields, curves, Dedekind domains, etc.
    \item Content from this week in the book.
    \begin{itemize}
        \item Section 12.1.
        \begin{itemize}
            \item The material before Theorem \ref{trm:12.5} is OMITTED from the course.
            \item Theorem \ref{trm:12.9.2} is also OMITTED from the course.
            \item The rest of this section will be covered.
            \item The main theorems are: The existence theorem (Theorem \ref{trm:12.5}) and the uniqueness theorem (Theorem \ref{trm:12.9.1})
        \end{itemize}
        \item Section 12.2 deals with the PID $F[X]$ and its applications to linear algebra; this will be covered on Monday next week.
    \end{itemize}
\end{itemize}



\section{Office Hours (Callum)}
\begin{itemize}
    \item Problem 6.5?
    \begin{itemize}
        \item Go with the explicit route, not the universal property of the ring of fractions route.
        \item Explicit: Define
        \begin{equation*}
            F(v) = \frac{1}{a}f(av)
        \end{equation*}
        \item We need to prove that $1/af(av)=1/bf(bv)$ for valid $a,b$. Multiply both sides by $ab$ and use commutativity. Thus, $F(v)$ is well defined.
    \end{itemize}
    \item Problem 6.8?
    \begin{itemize}
        \item The hardest one. Doesn't really use any of the previous parts.
        \item Define $\phi:A\oplus M\to A^2$ to be the isomorphism. Consider $(1,0)\in A\oplus M$. In particular, let $\phi(1,0)=(a,b)$. We know that it will generate a copy of $A$ in $A^2$. Essentially, $A(a,b)=A^2$. We know that $\phi^{-1}:A^2\to A\oplus M$ and $P:A\oplus M\to A$. Suppose $P\circ\phi^{-1}:(1,0)\mapsto c$ and $(0,1)\mapsto d$.
        \item Consider
        \begin{equation*}
            A\hookrightarrow A\oplus M\xrightarrow{\phi}A^2\xrightarrow{\phi^{-1}}A\oplus M\xrightarrow{P}A
        \end{equation*}
        which is the identity on $A$. Then
        \begin{equation*}
            1\mapsto (1,0)\mapsto (a,b)=a(1,0)+b(0,1)\mapsto ac+bd
        \end{equation*}
        so $ac+bd=1$.
        \item Consider the matrix
        \begin{equation*}
            \begin{pmatrix}
                a & d\\
                b & c\\
            \end{pmatrix}
        \end{equation*}
        \begin{itemize}
            \item Determinant??
            \item $(-d,c)$
            \item So thus, $M=A(-d,c)$??
        \end{itemize}
        \item $(-d,c)\in A^2$ defines a map from $A^2\to M$ with kernel $A$. $(-d,c)\in\ker(P\circ\phi^{-1})$. Thus, $\phi^{-1}(-d,c)\in\{0\}\oplus M\cong M$.
        \item Thus, at this point, we may define a map
        \begin{equation*}
            A\hookrightarrow A^2\xrightarrow{\phi^{-1}}A\oplus M\xrightarrow{P}M
        \end{equation*}
        by
        \begin{equation*}
            1\mapsto(-d,c)
        \end{equation*}
        and this should be an isomorphism.
        \item $(-d,c)$ generates a submodule of $A^2$ that is isomorphic to $M$.
        \item Injectivity follows from that of all of the components.
        \item Surjectivity: Pull $m$ back to $(0,m)$ and then $\phi(0,m)\in A^2$. The subset of $A^2$ equal to all $\phi(0,m)$ is equal to
        \begin{equation*}
            \{(u,v)\in A^2:\phi^{-1}(u,v)\in 0\oplus M\} = \{(u,v)\in A^2:uc+vd=0\}
        \end{equation*}
        \item We want to find $k\in A$ such that $(u,v)=k(-d,c)$. In other words, we want $u=-kd$ and $v=kc$. $ua=-kda=k(1-bc)=k-kbc=k-bv$. Thus, $k=ua+bv$. Now we have to substitute that back in and show that it works.
        \item Thus, we have that
        \begin{equation*}
            kc = ua+bvc
            = uac+b(1-ad)
            = v+uac-vad
            = v+a(bc-ad)
        \end{equation*}
        \item Saying $A\cong M$ is kind of like saying that there's a change of basis. That's why matrices keep coming up.
        \item Summary of what we did.
        \begin{enumerate}
            \item We have
            \begin{equation*}
                A\hookrightarrow A\oplus M\xrightarrow{\phi}A^2\xrightarrow{\phi^{-1}}A\oplus M\xrightarrow{P}A
            \end{equation*}
            and this is the identity.
            \item We define $(1,0)\mapsto(a,b)$, which will generate a copy of $A$ in $A^2$.
            \item We now need to find a basis vector corresponding to $M$ (which we hope is $A$).
            \item $\{(1,0),(0,1)\}$ is the standard basis for $A^2$.
            \item We need to solve for $x,y$ such that
            \begin{equation*}
                \begin{pmatrix}
                    a & x\\
                    b & y\\
                \end{pmatrix}
            \end{equation*}
            is invertible.
            \item $\{\phi^{-1}(1,0),\phi^{-1}(0,1)\}$ is another basis of $A^2$.
            \item We want $ac+bd=1$.
        \end{enumerate}
    \end{itemize}
\end{itemize}




\end{document}